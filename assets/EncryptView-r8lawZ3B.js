import{u as S,a as M,N as c,b as F,c as K,d as v,e as y,f as k,g as I,B as p,S as R,h as B,i as O,r as V,j as $,k as P}from"./funcs-CfLAcp9T.js";import{d as b,c as d,o as m,a as z,r as G,b as t,w as l,u as r,F as f,N as h,e as s,f as g,g as L,h as x,i as C,t as w}from"./index-D2YInJ7a.js";import{N as T}from"./Space-DZ4Ckvpm.js";const U={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},j=b({name:"ColorWandOutline",render:function(i,u){return m(),d("svg",U,u[0]||(u[0]=[z('<rect fill="none" stroke="currentColor" stroke-miterlimit="10" stroke-width="32" x="280.48" y="122.9" width="63.03" height="378.2" rx="31.52" transform="rotate(-45 312.002 311.994)"></rect><path d="M178.38 178.38a31.64 31.64 0 0 0 0 44.75L223.25 268L268 223.25l-44.87-44.87a31.64 31.64 0 0 0-44.75 0z" fill="currentColor"></path><path stroke="currentColor" stroke-miterlimit="10" stroke-width="32" stroke-linecap="round" d="M48 192h48" fill="currentColor"></path><path stroke="currentColor" stroke-miterlimit="10" stroke-width="32" stroke-linecap="round" d="M90.18 90.18l33.94 33.94" fill="currentColor"></path><path stroke="currentColor" stroke-miterlimit="10" stroke-width="32" stroke-linecap="round" d="M192 48v48" fill="currentColor"></path><path stroke="currentColor" stroke-miterlimit="10" stroke-width="32" stroke-linecap="round" d="M293.82 90.18l-33.94 33.94" fill="currentColor"></path><path stroke="currentColor" stroke-miterlimit="10" stroke-width="32" stroke-linecap="round" d="M124.12 259.88l-33.94 33.94" fill="currentColor"></path>',7)]))}}),D={style:{"white-space":"nowrap","font-family":"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace"}},H=b({__name:"EncryptView",setup(N){const i=S(),u=M(),a=G({plaintext:u.plaintext,ciphertext:"",key:u.key}),_=[{type:"group",label:"变换",key:"transform",children:[{label:"逆置换",key:"reverse-key"}]},{type:"group",label:"预设",key:"preset",children:[{label:"随机填充",key:"random-key"},{label:"ROT13",key:"rot13"},{label:"凯撒密码",key:"caesar"}]}];class n{static updatePlaintext(){u.setPlaintext(a.value.plaintext)}static updateKey(){u.setKey(a.value.key)}static resetForm(){a.value.plaintext="",a.value.ciphertext="",a.value.key="",i.success("已重置")}static reverseKey(e){try{return V(e)}catch{return i.error("密钥逆置换失败，密钥必须由 26 个小写字母组成"),e}}static generateKey(){return $()}static handleSelect(e){switch(e){case"reverse-key":a.value.key=n.reverseKey(a.value.key);break;case"random-key":a.value.key=n.generateKey();break;case"rot13":a.value.key="nopqrstuvwxyzabcdefghijklm";break}n.updateKey()}static encrypt(){try{const e=P(a.value.plaintext,a.value.key);a.value.ciphertext=e,u.setCiphertext(e)}catch(e){i.error(`加密失败，${e}`)}}}return(W,e)=>(m(),d(f,null,[t(r(c),null,{default:l(()=>[t(r(F),{ref:"formRef",model:a.value,size:"large","label-placement":"top"},{default:l(()=>[t(r(K),{cols:"4","item-responsive":"",responsive:"screen","x-gap":18},{default:l(()=>[t(r(v),{span:"4 m:4 l:2"},{default:l(()=>[t(r(y),{label:"明文",path:"plaintext"},{default:l(()=>[t(r(k),{value:a.value.plaintext,"onUpdate:value":e[0]||(e[0]=o=>a.value.plaintext=o),type:"textarea",rows:"8",placeholder:"请输入明文",onInput:n.updatePlaintext,style:{"font-family":"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace"}},null,8,["value","onInput"])]),_:1})]),_:1}),t(r(v),{span:"4 m:4 l:2"},{default:l(()=>[t(r(y),{label:"密文",path:"ciphertext"},{default:l(()=>[t(r(k),{value:a.value.ciphertext,"onUpdate:value":e[1]||(e[1]=o=>a.value.ciphertext=o),type:"textarea",rows:"8",placeholder:"加密的密文",style:{"font-family":"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace"},readonly:""},null,8,["value"])]),_:1})]),_:1})]),_:1}),t(r(y),{label:"密钥",path:"key"},{default:l(()=>[t(r(I),null,{default:l(()=>[t(r(k),{value:a.value.key,"onUpdate:value":e[2]||(e[2]=o=>a.value.key=o),placeholder:"请输入由 26 个小写字母组成的密钥",onInput:n.updateKey,style:{"font-family":"v-mono, SFMono-Regular, Menlo, Consolas, Courier, monospace"}},null,8,["value","onInput"]),t(r(h),{trigger:"hover"},{trigger:l(()=>[t(r(p),{strong:"",secondary:"",onClick:e[3]||(e[3]=o=>n.handleSelect("reverse-key"))},{default:l(()=>[t(r(g),null,{default:l(()=>[t(r(R))]),_:1})]),_:1})]),default:l(()=>[e[6]||(e[6]=s("span",null,"逆置换密钥",-1))]),_:1,__:[6]}),t(r(L),{trigger:"click",options:_,"show-arrow":!0,onSelect:n.handleSelect},{default:l(()=>[t(r(h),{trigger:"hover"},{trigger:l(()=>[t(r(p),{strong:"",secondary:""},{default:l(()=>[t(r(g),null,{default:l(()=>[t(r(j))]),_:1})]),_:1})]),default:l(()=>[e[7]||(e[7]=s("span",null,"处理密钥",-1))]),_:1,__:[7]})]),_:1},8,["onSelect"])]),_:1})]),_:1}),t(r(T),null,{default:l(()=>[t(r(p),{type:"primary",onClick:e[4]||(e[4]=o=>n.encrypt())},{default:l(()=>e[8]||(e[8]=[x("加密")])),_:1,__:[8]}),t(r(p),{type:"info",onClick:e[5]||(e[5]=o=>n.resetForm())},{default:l(()=>e[9]||(e[9]=[x("重置")])),_:1,__:[9]})]),_:1})]),_:1},8,["model"])]),_:1}),t(r(c),{title:"密钥映射关系",style:{"margin-top":"30px"}},{default:l(()=>[t(r(B),{"x-scrollable":""},{default:l(()=>[s("div",D,[t(r(O),null,{default:l(()=>[s("thead",null,[s("tr",null,[(m(),d(f,null,C(26,o=>s("th",{key:o},w(String.fromCharCode(o+96)),1)),64))])]),s("tbody",null,[s("tr",null,[(m(),d(f,null,C(26,o=>s("td",{key:o},w(a.value.key[o-1]||String.fromCharCode(o+96)),1)),64))])])]),_:1})])]),_:1})]),_:1})],64))}});export{H as default};
